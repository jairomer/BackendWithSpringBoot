
CREATE TABLE BRANDS (
    ID BIGINT PRIMARY KEY,
    BRAND_NAME VARCHAR(255)
);
CREATE SEQUENCE brands_seq;

CREATE TABLE PRODUCTS (
    ID BIGINT PRIMARY KEY
);

CREATE TABLE PRICES (
    PRICE_LIST_ID BIGINT NOT NULL PRIMARY KEY,
    PRODUCT_ID BIGINT NOT NULL,
    BRAND_ID BIGINT NOT NULL,
    START_DATE TIMESTAMP NOT NULL,
    END_DATE TIMESTAMP NOT NULL,
    PRIORITY INT NOT NULL DEFAULT 0,
    FINAL_PRICE NUMERIC(10, 2) NOT NULL,
    CURRENCY VARCHAR(25) NOT NULL,
    FOREIGN KEY (BRAND_ID) REFERENCES BRANDS(ID),
    FOREIGN KEY (PRODUCT_ID) REFERENCES PRODUCTS(ID) 
);

--Test data for BRANDS
INSERT INTO BRANDS (ID, BRAND_NAME) VALUES (1, 'ZARA');

-- Test data for PRODUCTS
INSERT INTO PRODUCTS(ID) VALUES (35455);

-- Test data for PRICES
INSERT INTO PRICES (
    PRICE_LIST_ID, PRODUCT_ID, BRAND_ID, START_DATE, END_DATE, PRIORITY, FINAL_PRICE, CURRENCY
) VALUES (
    1, 35455, 1, '2020-06-14 00:00:00', '2020-12-31 23:59:59', 0, 35.50, 'EUR'
);

INSERT INTO PRICES (
    PRICE_LIST_ID, PRODUCT_ID, BRAND_ID, START_DATE, END_DATE, PRIORITY, FINAL_PRICE, CURRENCY
) VALUES (
    2, 35455, 1, '2020-06-14 15.00.00', '2020-06-14 18.30.00', 1, 25.45, 'EUR'
);

INSERT INTO PRICES (
    PRICE_LIST_ID, PRODUCT_ID, BRAND_ID, START_DATE, END_DATE, PRIORITY, FINAL_PRICE, CURRENCY
) VALUES (
    3, 35455, 1, '2020-06-15 00.00.00', '2020-06-15 11.00.00', 1, 30.50, 'EUR'
);

INSERT INTO PRICES (
    PRICE_LIST_ID, PRODUCT_ID, BRAND_ID, START_DATE, END_DATE, PRIORITY, FINAL_PRICE, CURRENCY
) VALUES (
    4, 35455, 1, '2020-06-15 16.00.00', '2020-12-31 23.59.59', 1, 38.95, 'EUR'
);
